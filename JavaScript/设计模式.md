# 设计模式

## 工厂模式

## 装饰器模式

## 代理模式

## 观察者模式

```js
class Subject {
  constructor() {
    this.state = 0
    this.observers = []
  }

  getState() {
    return this.state
  }

  setState(state) {
    this.state = state
    this.notifyAllObervers()
  }

  notifyAllObervers() {
    this.observers.forEach(observer => {
      observer.update(this.state)
    })
  }

  attach(observer) {
    this.observers.push(observer)
  }
}

class Observer {
  constructor(name, subject) {
    this.name = name
    this.subject = subject
    this.subject.attach(this)
  }
  update(state) {
    console.log(`${this.name}接收到更新的订阅消息:${state}`)
  }
}

const s = new Subject()

const ob1 = new Observer('ob1', s)
const ob2 = new Observer('ob2', s)

s.setState('新的state')
```
